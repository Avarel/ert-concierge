!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceEventHandler=t.EventHandler=t.Client=void 0;t.Client=class{constructor(e,t,n=!1){this.seq=0,this.reconnectInterval=1e4,this.handlers=[],this.url=t,this.name=e,this.reconnect=n}connect(e,t){console.info("Trying to connect to ",this.url),this.version=e,this.secret=t,this.socket=new WebSocket(this.url),this.socket.onopen=e=>this.onOpen(e),this.socket.onmessage=e=>this.onReceive(e),this.socket.onerror=e=>this.onError(e),this.socket.onclose=e=>this.onClose(e)}sendJSON(e){if(null==this.socket)throw new Error("Socket is not connected");this.socket.send(JSON.stringify(e));let t=this.seq;return this.seq+=1,t}close(e,t,n=!0){if(null==this.socket)throw new Error("Socket is not connected");this.socket.close(e,t),n?this.tryReconnect():(this.socket=void 0,this.version=void 0,this.secret=void 0)}tryReconnect(){this.reconnect&&(console.warn("Connection closed, reconnecting in",this.reconnectInterval,"ms"),setTimeout(()=>{this.connect(this.version,this.secret)},this.reconnectInterval))}onOpen(e){var t;for(let n of this.handlers)null===(t=n.onOpen)||void 0===t||t.call(n,e);if(null==this.version)throw new Error("Version is undefined");console.log("Identifying with version",this.version),this.sendJSON({type:"IDENTIFY",name:this.name,version:this.version,secret:this.secret})}onClose(e){var t;for(let n of this.handlers)null===(t=n.onClose)||void 0===t||t.call(n,e);console.warn(e.code,e.reason),this.tryReconnect()}onReceive(e){var t;let n=JSON.parse(e.data);if(n.hasOwnProperty("type")){let e=n;"HELLO"==e.type&&(this.uuid=e.uuid,this.seq=0);for(let n of this.handlers)null===(t=n.onReceive)||void 0===t||t.call(n,e)}}onError(e){var t;for(let n of this.handlers)null===(t=n.onError)||void 0===t||t.call(n,e);console.log(e)}};class i{onReceive(e){var t,n,i,s,r,o,a;switch(e.type){case"MESSAGE":null===(t=this.onRecvMessage)||void 0===t||t.call(this,e);break;case"HELLO":null===(n=this.onRecvHello)||void 0===n||n.call(this,e);break;case"GROUP_SUBSCRIBERS":null===(i=this.onRecvGroupSubs)||void 0===i||i.call(this,e);break;case"GROUPS":null===(s=this.onRecvGroupList)||void 0===s||s.call(this,e);break;case"CLIENTS":null===(r=this.onRecvClientList)||void 0===r||r.call(this,e);break;case"SUBSCRIPTIONS":null===(o=this.onRecvSubscriptions)||void 0===o||o.call(this,e);break;case"STATUS":null===(a=this.onRecvStatus)||void 0===a||a.call(this,e)}}}t.EventHandler=i;t.ServiceEventHandler=class extends i{constructor(e,t){super(),this.subscribed=!1,this.client=e,this.group=t}onClose(e){this.onUnsubscribe()}onRecvHello(e){this.client.sendJSON({type:"FETCH_GROUP_SUBSCRIBERS",group:this.group})}onRecvGroupSubs(e){e.group==this.group&&this.subscribe(this.group)}subscribe(e){this.client.sendJSON({type:"SUBSCRIBE",group:e})}onRecvStatus(e){switch(e.code){case"NO_SUCH_GROUP":e.group==this.group&&console.error("Group `",this.group,"` does not exist on concierge.");break;case"GROUP_DELETED":e.group==this.group&&console.warn("Group `",this.group,"` has been deleted on the concierge.");break;case"GROUP_CREATED":e.group==this.group&&this.subscribe(this.group);break;case"SUBSCRIBED":e.group==this.group&&(console.log("Subscribed to `",this.group,"`."),this.subscribed=!0,this.onSubscribe());break;case"UNSUBSCRIBED":e.group==this.group&&(console.log("Unsubscribed from `",this.group,"`."),this.subscribed=!1,this.onUnsubscribe())}}}},function(e,t){e.exports=BABYLON},function(e,t,n){"use strict";var i,s=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function a(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},i=[],s=0;s<e.length;s++){var r=e[s],c=t.base?r[0]+t.base:r[0],l=n[c]||0,d="".concat(c," ").concat(l);n[c]=l+1;var h=a(d),u={css:r[1],media:r[2],sourceMap:r[3]};-1!==h?(o[h].references++,o[h].updater(u)):o.push({identifier:d,updater:b(u,t),references:1}),i.push(d)}return i}function l(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var s=n.nc;s&&(i.nonce=s)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var o=r(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var d,h=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function u(e,t,n,i){var s=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=h(t,s);else{var r=document.createTextNode(s),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}function p(e,t,n){var i=n.css,s=n.media,r=n.sourceMap;if(s?e.setAttribute("media",s):e.removeAttribute("media"),r&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var g=null,f=0;function b(e,t){var n,i,s;if(t.singleton){var r=f++;n=g||(g=l(t)),i=u.bind(null,n,r,!1),s=u.bind(null,n,r,!0)}else n=l(t),i=p.bind(null,n,t),s=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else s()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=s());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var s=a(n[i]);o[s].references--}for(var r=c(e,t),l=0;l<n.length;l++){var d=a(n[l]);0===o[d].references&&(o[d].updater(),o.splice(d,1))}n=r}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var s=(o=i,a=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),r=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[n].concat(r).concat([s]).join("\n")}var o,a,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var s={};if(i)for(var r=0;r<this.length;r++){var o=this[r][0];null!=o&&(s[o]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);i&&s[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(7),s=n(0),r=n(8),o=n(9),a=n(10),c=n(11),l=n(14);let d=document.querySelector("#renderCanvas");if(!d)throw"Canvas is not found!";d.focus();var h=prompt("Please enter the server address","ws://127.0.0.1:64209/ws");if("debug"==h){throw new i.Renderer(d).start(),"Debug mode"}if(!h||0==h.length)throw alert("A server address is required, please restart the webpage.");var u=prompt("Please enter your name","anthony");if(!u||0==u.length)throw alert("A valid name, please restart the webpage.");let p=new i.Renderer(d),g=new s.Client(u,h,!0),f=new r.PhysicsHandler(g,p);g.handlers.push(f);let b=new a.PlanetsHandler(g,p);g.handlers.push(b);let m=new c.Chat.UI(document.querySelector("#chat")),v=new o.ChatHandler(g,m);g.handlers.push(v);let y=new c.Sidebar.UI(document.querySelector(".sidebar#users")),x=new l.UsersHandler(g,y);g.handlers.push(x),p.start(),g.connect("0.1.0")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=void 0;const i=n(1),s=n(1);t.Renderer=class{constructor(e){this.canvas=e,this.engine=new i.Engine(e,!0)}createScene(){this.scene&&this.scene.dispose();let e=new i.Scene(this.engine),t=new i.UniversalCamera("UniversalCamera",new s.Vector3(500,800,-100),e);t.setTarget(new s.Vector3(500,0,500)),t.speed=15,t.attachControl(this.canvas,!0),t.keysDownward.push(17),t.keysUpward.push(32),t.keysUp.push(87),t.keysDown.push(83),t.keysLeft.push(65),t.keysRight.push(68);let n=new i.PointLight("light1",new i.Vector3(500,500,500),e);n.intensity=1;let r=e.createDefaultEnvironment({skyboxSize:1050,groundSize:1050,groundShadowLevel:.5,enableGroundShadow:!0});r.ground.position.set(500,0,500),r.skybox.position.set(500,0,500),r.skybox.isPickable=!1,r.setMainColor(i.Color3.FromHexString("#74b9ff")),this.generator=new i.ShadowGenerator(512,n),e.createDefaultVRExperience({createDeviceOrientationCamera:!1}).enableTeleportation({floorMeshes:[r.ground]}),this.scene=e}start(){null==this.scene&&this.createScene();let e=()=>{this.scene?this.scene.render():this.engine.stopRenderLoop(e)};this.engine.runRenderLoop(e),window.addEventListener("resize",()=>{this.engine.resize()})}stop(){this.engine.stopRenderLoop()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhysicsHandler=t.PHYSICS_ENGINE_GROUP=t.PHYSICS_ENGINE_NAME=void 0;const i=n(0),s=n(1);function r(e){return new s.Vector2(e.x,e.y)}function o(e){function t(e){return Math.max(0,Math.min(e,255))/255}return new s.Color3(t(e[0]),t(e[1]),t(e[2]))}t.PHYSICS_ENGINE_NAME="physics_engine",t.PHYSICS_ENGINE_GROUP="physics_engine_out";class a{constructor(e,t){this.centroid=e,this.mesh=t}static createPolygon(e,t,n,i,r=1){let o=t.map(e=>e.scale(r)),c=new s.PolygonMeshBuilder("polytri",o,n).build(void 0,50);c.position.y+=50;var l=new s.StandardMaterial("myMaterial",n);return l.diffuseColor=i,c.material=l,c.actionManager=new s.ActionManager(n),new a(e,c)}setColor(e){this.mesh.material.diffuseColor=e}moveTo(e){let t=e.subtract(this.centroid);this.mesh.position.addInPlace(t),this.centroid.set(e.x,e.y,e.z)}}class c extends i.ServiceEventHandler{constructor(e,n){super(e,t.PHYSICS_ENGINE_GROUP),this.client=e,this.renderer=n,this.shapes=new Map}onRecvMessage(e){e.origin.name==t.PHYSICS_ENGINE_NAME&&this.processPhysicsPayload(e.data)}onSubscribe(){console.log("Fetching..."),this.client.sendJSON({type:"MESSAGE",target:{type:"NAME",name:t.PHYSICS_ENGINE_NAME},data:{type:"FETCH_ENTITIES"}})}onUnsubscribe(){this.clearShapes()}clearShapes(){var e;for(let t of this.shapes.keys())if(this.shapes.has(t)){let n=this.shapes.get(t);null===(e=this.renderer.generator)||void 0===e||e.removeShadowCaster(n.mesh),n.mesh.dispose(),this.shapes.delete(t)}}createPolygon(e,t,n,i,r=1){var o;if(this.renderer.scene){let c=a.createPolygon(new s.Vector3(t.x,0,t.y),n,this.renderer.scene,i,r);return this.shapes.set(e,c),null===(o=this.renderer.generator)||void 0===o||o.addShadowCaster(c.mesh),c}throw new Error("Scene not initialized!")}createShape(e,n,i,a,c=1){let l=r(n),d=i.map(r),h=o(a);this.createPolygon(e,l,d,h,c).mesh.actionManager.registerAction(new s.ExecuteCodeAction(BABYLON.ActionManager.OnPickTrigger,()=>{console.log("Clicking on object ",e,"."),this.client.sendJSON({type:"MESSAGE",target:{type:"NAME",name:t.PHYSICS_ENGINE_NAME},data:{type:"TOGGLE_COLOR",id:e}})}))}updateShape(e,t){let n=this.shapes.get(e);n&&n.moveTo(new s.Vector3(t.x,0,t.y))}updateColor(e,t){let n=this.shapes.get(e);n&&n.setColor(o(t))}processPhysicsPayload(e){switch(e.type){case"ENTITY_DUMP":console.log("Dumping entities!"),this.clearShapes();for(let t of e.entities)this.createShape(t.id,t.centroid,t.points,t.color);break;case"POSITION_DUMP":for(let t of e.updates)this.updateShape(t.id,t.position);break;case"COLOR_UPDATE":this.updateColor(e.id,e.color)}}}t.PhysicsHandler=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatHandler=void 0;const i=n(0);class s extends i.ServiceEventHandler{constructor(e,t){super(e,"chat"),this.client=e,this.ui=t,t.onEnter=e=>{this.onEnter(e)}}onSubscribe(){this.ui.addStatus("Connected to the chat system.")}onEnter(e){this.client.sendJSON({type:"MESSAGE",target:{type:"GROUP",group:"chat"},data:e})}onRecvMessage(e){e.origin&&"chat"==e.origin.group&&"string"==typeof e.data&&this.ui.addMessage(e.origin.name,e.data,e.origin.name==this.client.name)}onUnsubscribe(){this.ui.addStatus("Disconnected from the chat system.")}}t.ChatHandler=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlanetsHandler=t.PLANET_SIM_GROUP=t.PLANET_SIM_NAME=void 0;const i=n(0),s=n(1);t.PLANET_SIM_NAME="planetary_simulation",t.PLANET_SIM_GROUP="planetary_simulation_out";class r{constructor(e,t){this.centroid=e,this.mesh=t}static createSphere(e,t,n,i,o=1){let a=s.MeshBuilder.CreateSphere("mySphere",{diameter:2*t*o},n);a.position=e;var c=new s.StandardMaterial("myMaterial",n);return c.diffuseColor=i,a.material=c,a.actionManager=new s.ActionManager(n),new r(e,a)}setColor(e){this.mesh.material.diffuseColor=e}moveTo(e){let t=e.subtract(this.centroid);this.mesh.position.addInPlace(t),this.centroid.set(e.x,e.y,e.z)}}class o extends i.ServiceEventHandler{constructor(e,n){super(e,t.PLANET_SIM_GROUP),this.client=e,this.renderer=n,this.planets=new Map}onRecvMessage(e){e.origin.name==t.PLANET_SIM_NAME&&this.processPhysicsPayload(e.data)}onSubscribe(){}onUnsubscribe(){this.clearShapes()}clearShapes(){var e;for(let t of this.planets.keys())if(this.planets.has(t)){let n=this.planets.get(t);null===(e=this.renderer.generator)||void 0===e||e.removeShadowCaster(n.mesh),n.mesh.dispose(),this.planets.delete(t)}}processPhysicsPayload(e){var t;this.sysData=e.systemData;for(let n of e.objects){let e=new s.Vector3(n.locationX,n.locationY,n.locationZ).scaleInPlace(1/this.sysData.scale).scaleInPlace(500);if(this.planets.has(n.name))this.planets.get(n.name).moveTo(e);else{if(!this.renderer.scene)throw new Error("Scene not initialized!");{let i=n.radius/this.sysData.scale*this.sysData.bodyScale*500,o=s.Color3.Black();n.name==this.sysData.centralBodyName&&(console.log("Found central body!"),i*=this.sysData.centralBodyScale,e.scaleInPlace(this.sysData.centralBodyScale),o=s.Color3.Yellow()),console.log(`Creating object (radius = ${i}, location = ${e.toString()})`);let a=r.createSphere(e,i,this.renderer.scene,o);this.planets.set(n.name,a),null===(t=this.renderer.generator)||void 0===t||t.addShadowCaster(a.mesh)}}}}}t.PlanetsHandler=o},function(e,t,n){"use strict";function i(e,t=[]){let n=document.createElement(e);return n.classList.add(...t),n}Object.defineProperty(t,"__esModule",{value:!0}),t.Sidebar=t.Chat=void 0,n(12),function(e){e.UI=class{constructor(e){this.messages=[],this.rootElement=e,this.setup()}setup(){let e=this.rootElement.querySelector("div.messages")||i("div",["messages"]),t=i("div",["input"]),n=i("input");t.appendChild(n);let s=i("div",["button"]);t.appendChild(s),n.addEventListener("keyup",e=>{13===e.keyCode&&(e.preventDefault(),s.click())}),s.addEventListener("click",e=>{var t;n.value.length>0&&(null===(t=this.onEnter)||void 0===t||t.call(this,n.value),n.value="")}),this.messagesElement=e,this.rootElement.appendChild(e),this.rootElement.appendChild(t)}createMessageElement(e,t,n=!1){let s=i("div",n?["entry","you"]:["entry"]),r=i("div",["name"]);r.innerText=e;let o=i("div",["text"]);return o.innerText=t,s.appendChild(r),s.appendChild(o),s}createStatusElement(e){let t=i("div",["entry","status"]),n=i("div",["text"]);return n.innerText=e,t.appendChild(n),t}addStatus(e){let t=this.createStatusElement(e);this.messagesElement.appendChild(t)}addMessage(e,t,n=!1){let i=this.createMessageElement(e,t,n);this.messagesElement.appendChild(i),this.messages.push({name:e,text:t,element:i})}}}(t.Chat||(t.Chat={})),function(e){e.UI=class{constructor(e){this.icons=[],this.rootElement=e}baseIcon(){return i("div",["icon"])}clear(){for(let e of this.icons)e.element.remove();this.icons.length=0}addImageIcon(e,t){let n=this.baseIcon(),s=i("img");s.setAttribute("src",t),n.appendChild(s);let r=i("div",["tooltip"]);r.innerText=e,n.append(r),this.rootElement.appendChild(n),this.icons.push({name:e,element:n})}addInitialIcon(e,t){let n=this.baseIcon(),s=i("p");s.innerText=t.toUpperCase(),n.appendChild(s);let r=i("div",["tooltip"]);r.innerText=e,n.append(r),this.rootElement.appendChild(n),this.icons.push({name:e,element:n})}removeIcon(e){for(let t=0;t<this.icons.length;t++){let n=this.icons[t];n.name==e&&(n.element.remove(),this.icons.splice(t,1))}}}}(t.Sidebar||(t.Sidebar={})),document.querySelector(".window-drawer").addEventListener("click",()=>{document.querySelector(".window").classList.toggle("hidden")})},function(e,t,n){var i=n(2),s=n(13);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var r={insert:"head",singleton:!1};i(s,r);e.exports=s.locals||{}},function(e,t,n){(t=n(3)(!1)).push([e.i,'body{height:100vh;width:100vw}.sidebar{position:fixed;z-index:100;top:0;left:0;flex-direction:column;display:flex;overflow:auto;width:70px;height:100%;padding:15px}.sidebar::-webkit-scrollbar{width:5px}.sidebar::-webkit-scrollbar-track{background:transparent}.sidebar::-webkit-scrollbar-thumb{background:#444;border-radius:5px}.sidebar::-webkit-scrollbar-thumb:hover{background:#555}.sidebar .icon{flex:0 0 auto;width:70px;height:70px;margin-bottom:10px;box-sizing:border-box;position:relative}.sidebar .icon:hover .tooltip{visibility:visible;opacity:1}.sidebar .icon .tooltip{background-color:#404548;border-radius:5px;color:#fff;font-family:monospace;margin-left:-10px;margin-top:5px;opacity:0;padding:5px 0;position:absolute;text-align:center;transition:opacity .2s;visibility:hidden;width:calc(100% + 20px);word-break:break-all;z-index:101}.sidebar .icon .tooltip::after{content:"";position:absolute;bottom:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:transparent transparent #555 transparent}.sidebar .icon img,.sidebar .icon p{height:100%;width:100%;background:#000;border-radius:50%;cursor:pointer;transition:border-radius .2s}.sidebar .icon img:hover,.sidebar .icon p:hover{border-radius:10px}.sidebar .icon p{color:#fff;line-height:70px;text-align:center;font-size:40px;font-family:sans-serif;user-select:none}.window{z-index:100;position:fixed;display:flex;bottom:0;width:400px;height:500px;max-height:100%;padding:5px;box-sizing:border-box;transition:margin-left .5s,margin-bottom .5s;flex-direction:column}.window.left{left:0}.window.right{right:0}@media screen and (max-width: 500px){.window{bottom:0;height:50vh;width:100vw}}.window.hidden{margin-bottom:calc( max( -500px + 45px, -100vh + 45px ) )}@media screen and (max-width: 500px){.window.hidden{bottom:0;margin-left:0;margin-bottom:calc(-50vh + 45px)}}.window .header{min-height:40px;margin-left:5px;margin-right:5px;display:flex;flex-direction:row}.window .header .window-drawer{background:green;height:40px;width:80px;text-align:center;line-height:30px;border-radius:5px 5px 0 0;cursor:pointer}@media screen and (max-width: 500px){.window .header .window-drawer{bottom:40px;left:15px}}.window .header .tab{background:gray;line-height:40px;border-radius:5px 5px 0 0}.window .body{background:#fff;height:calc(100% - 40px);border-radius:5px;overflow:hidden;color:#000}#chat{background:#111;color:#fff;height:100%;display:flex;flex-direction:column;font-family:monospace}#chat .input{position:relative;background:#444;display:flex;width:100%;height:0px;bottom:50px;padding-left:10px;padding-right:10px;box-sizing:border-box}#chat .input input{background:#444;color:#fff;border:0;padding:5px;box-sizing:border-box;height:40px;width:100%;border-radius:5px 0 0 5px;outline:none;font-family:monospace}#chat .input .button{line-height:40px;text-align:center;height:40px;width:40px;border-radius:0 5px 5px 0;background:green;user-select:none;cursor:pointer}#chat .input .button:hover{background:#3a3}#chat .messages{padding:15px;height:100%;width:100%;box-sizing:border-box;display:flex;flex-direction:column;position:relative;overflow:auto}#chat .messages::-webkit-scrollbar{width:10px}#chat .messages::-webkit-scrollbar-track{background:transparent}#chat .messages::-webkit-scrollbar-thumb{background:#444;border-radius:5px}#chat .messages::-webkit-scrollbar-thumb:hover{background:#555}#chat .messages .entry{display:flex;max-width:90%;flex-direction:column;align-self:flex-start}#chat .messages .entry:last-child{margin-bottom:40px}#chat .messages .entry.you{align-self:flex-end}#chat .messages .entry.you .name{text-align:right}#chat .messages .entry.you .text{border-radius:5px 0px 5px 5px;align-self:flex-end}#chat .messages .entry.status{width:100%;max-width:100%}#chat .messages .entry.status .text{text-align:center;background:none;margin:0;padding:0;color:#888}#chat .messages .entry .name{text-align:left;margin:10px 10px 0px}#chat .messages .entry .text{border-radius:0 5px 5px;background:#333;padding:10px;word-break:break-all;margin:5px}',""]),e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsersHandler=void 0;const i=n(0);class s extends i.EventHandler{constructor(e,t){super(),this.client=e,this.ui=t}onRecvHello(e){this.client.sendJSON({type:"FETCH_CLIENTS"})}onRecvClientList(e){this.ui.clear();for(let t of e.clients)this.ui.addInitialIcon(t.name,t.name[0])}onRecvStatus(e){switch(e.code){case"CLIENT_JOINED":this.ui.addInitialIcon(e.name,e.name[0]);break;case"CLIENT_LEFT":this.ui.removeIcon(e.name)}}}t.UsersHandler=s}]);